{% extends 'base.html' %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div style="margin-bottom: 2rem;">
        <a href="/appointments" style="color: var(--text-muted); display: flex; align-items: center; gap: 0.5rem;">
            <i class="ri-arrow-left-line"></i> Back to Appointments
        </a>
    </div>

    <div class="card">
        <h2 style="margin-bottom: 2rem; color: var(--success);">Schedule Appointment</h2>

        <form action="/add_appointment" method="POST">
            <div class="form-group">
                <label class="form-label" for="patient_id">Select Patient</label>
                <div style="position: relative;">
                    <i class="ri-user-line"
                        style="position: absolute; left: 1rem; top: 1.1rem; color: var(--text-muted);"></i>
                    <select id="patient_id" name="patient_id" class="form-control" style="padding-left: 2.5rem;"
                        required>
                        <option value="" disabled selected>Choose a patient...</option>
                        {% for patient in patients %}
                        <option value="{{ patient.patient_id }}">{{ patient.name }} (ID: {{ patient.patient_id }})
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label" for="doctor_id">Select Doctor</label>
                <div style="position: relative;">
                    <i class="ri-stethoscope-line"
                        style="position: absolute; left: 1rem; top: 1.1rem; color: var(--text-muted);"></i>
                    <select id="doctor_id" name="doctor_id" class="form-control" style="padding-left: 2.5rem;" required>
                        <option value="" disabled selected>Choose a doctor...</option>
                        {% for doctor in doctors %}
                        <option value="{{ doctor.doctor_id }}">Dr. {{ doctor.name }} ({{ doctor.specialization }})
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label class="form-label" for="appointment_date">Date</label>
                    <input type="date" id="appointment_date" name="appointment_date" class="form-control" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="appointment_time">Time</label>
                    <input type="time" id="appointment_time" name="appointment_time" class="form-control" required>
                </div>
            </div>

            <button type="submit" class="btn" style="background: var(--success); width: 100%;">
                <i class="ri-calendar-check-line"></i> Confirm Appointment
            </button>
        </form>
    </div>
</div>
{% endblock %}